---
layout: news_post
title: "CVE-2024-27281: Уязвимость RCE с .rdoc_options в RDoc"
author: "hsbt"
translator: "suban05"
date: 2024-03-21 4:00:00 +0000
tags: security
lang: ru
---

Мы выпустили версии RDoc gem 6.3.4.1, 6.4.1.1, 6.5.1.1 и 6.6.3.1, содержащие исправление уязвимости RCE.
Этой уязвимости присвоен идентификатор CVE [CVE-2024-27281](https://www.cve.org/CVERecord?id=CVE-2024-27281).

## Подробности

Проблема была обнаружена в RDoc версий с 6.3.3 по 6.6.2, распространяемой в Ruby версий 3.x до 3.3.0.

При разборе файла `.rdoc_options` (используемого для конфигурации в RDoc) как YAML-файла возможна инъекция объектов и, как следствие, удаленное выполнение кода, так как нет ограничений на классы, которые могут быть восстановлены.

При загрузке кэша документации также возможна инъекция объектов и последующее удаленное выполнение кода, если кэш был специально создан.

## Рекомендуемые действия

Рекомендуем обновить RDoc gem до версии 6.6.3.1 или выше. Для обеспечения совместимости с версией, включенной в более старые серии Ruby, вы можете обновить следующим образом:

* Для пользователей Ruby 3.0: Обновите до `rdoc` версии 6.3.4.1
* Для пользователей Ruby 3.1: Обновите до `rdoc` версии 6.4.1.1
* Для пользователей Ruby 3.2: Обновите до `rdoc` версии 6.5.1.1

Вы можете использовать команду `gem update rdoc` для обновления. Если вы используете bundler, добавьте `gem "rdoc", ">= 6.6.3.1"` в ваш `Gemfile`.

Обратите внимание: версии 6.3.4, 6.4.1, 6.5.1 и 6.6.3 содержат некорректное исправление. Рекомендуем обновиться до 6.3.4.1, 6.4.1.1, 6.5.1.1 и 6.6.3.1 вместо них.

## Затронутые версии

* Ruby 3.0.6 или ниже
* Ruby 3.1.4 или ниже
* Ruby 3.2.3 или ниже
* Ruby 3.3.0
* RDoc gem 6.3.3 или ниже, 6.4.0 до 6.6.2 без патч-версий (6.3.4, 6.4.1, 6.5.1)

## Благодарности

Благодарим [ooooooo_q](https://hackerone.com/ooooooo_q?type=user) за обнаружение этой проблемы.

## История

* Изначально опубликовано 2024-03-21 4:00:00 (UTC)
