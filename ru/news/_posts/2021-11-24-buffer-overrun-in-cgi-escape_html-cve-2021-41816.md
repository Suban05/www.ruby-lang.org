---
layout: news_post
title: "CVE-2021-41816: Переполнение буфера в CGI.escape_html"
author: "mame"
translator: "suban05"
date: 2021-11-24 12:00:00 +0000
tags: security
lang: ru
---

В уязвимости переполнения буфера был обнаружен CGI.escape_html.
Этой уязвимости был присвоен идентификатор CVE [CVE-2021-41816](https://www.cve.org/CVERecord?id=CVE-2021-41816).
Мы настоятельно рекомендуем обновить Ruby.

## Подробности

Уязвимость безопасности, которая вызывает переполнение буфера, когда вы передаете очень длинную строку (> 700 МБ) в `CGI.escape_html` на платформе, где тип `long` занимает 4 байта, как правило, это Windows.

Пожалуйста, обновите гем cgi до версии 0.3.1, 0.2.1 и 0.1.1 или более поздней. Вы можете использовать `gem update cgi` для его обновления. Если вы используете bundler, добавьте `gem "cgi", ">= 0.3.1"` в ваш `Gemfile`.
Или, пожалуйста, обновите Ruby до версии 2.7.5 или 3.0.3.

Эта проблема была введена с Ruby 2.7, поэтому версия cgi, поставляемая с Ruby 2.6, не уязвима.

## Затронутые версии

* гем cgi 0.1.0 или ранее (которые поставляются с Ruby 2.7 серии до Ruby 2.7.5)
* гем cgi 0.2.0 или ранее (которые поставляются с Ruby 3.0 серии до Ruby 3.0.3)
* гем cgi 0.3.0 или ранее

## Благодарности

Спасибо [chamal](https://hackerone.com/chamal) за обнаружение этой проблемы.

## История

* Изначально опубликовано 2021-11-24 12:00:00 (UTC)
